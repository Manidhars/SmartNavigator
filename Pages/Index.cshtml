@page
@model IndexModel

<form method="post">
    <input type="text" asp-for="Query" placeholder="Enter your query" />
    <button type="submit">Submit</button>
</form>

@if (Model.Result != null)
{
    <div id="results">
        <p>@Model.Result</p>
        @if (Model.RelatedUrls != null && Model.RelatedUrls.Any())
        {
            <h3>Related URLs</h3>
            <ul>
                @foreach (var url in Model.RelatedUrls)
                {
                    <li><a href="@url" target="_blank">@url</a></li>
                }
            </ul>
        }
    </div>
}

@section Scripts {
    <script>
        (function () {
            var mainUrl = "@Model.MainUrl";
            if (mainUrl) {
                window.open(mainUrl, "_blank");
            }
        })();
    </script>
}
